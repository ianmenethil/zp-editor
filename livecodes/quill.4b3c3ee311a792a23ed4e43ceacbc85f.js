var V=Object.create;var R=Object.defineProperty;var J=Object.getOwnPropertyDescriptor;var G=Object.getOwnPropertyNames;var Z=Object.getPrototypeOf,X=Object.prototype.hasOwnProperty;var Y=(r,p)=>()=>(p||r((p={exports:{}}).exports,p),p.exports);var tt=(r,p,m,f)=>{if(p&&typeof p=="object"||typeof p=="function")for(let b of G(p))!X.call(r,b)&&b!==m&&R(r,b,{get:()=>p[b],enumerable:!(f=J(p,b))||f.enumerable});return r};var et=(r,p,m)=>(m=r!=null?V(Z(r)):{},tt(p||!r||!r.__esModule?R(m,"default",{value:r,enumerable:!0}):m,r));var P=Y((mt,T)=>{var st=function(){var r=String.fromCharCode,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",f={};function b(t,n){if(!f[t]){f[t]={};for(var c=0;c<t.length;c++)f[t][t.charAt(c)]=c}return f[t][n]}var g={compressToBase64:function(t){if(t==null)return"";var n=g._compress(t,6,function(c){return p.charAt(c)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return t==null?"":t==""?null:g._decompress(t.length,32,function(n){return b(p,t.charAt(n))})},compressToUTF16:function(t){return t==null?"":g._compress(t,15,function(n){return r(n+32)})+" "},decompressFromUTF16:function(t){return t==null?"":t==""?null:g._decompress(t.length,16384,function(n){return t.charCodeAt(n)-32})},compressToUint8Array:function(t){for(var n=g.compress(t),c=new Uint8Array(n.length*2),o=0,i=n.length;o<i;o++){var u=n.charCodeAt(o);c[o*2]=u>>>8,c[o*2+1]=u%256}return c},decompressFromUint8Array:function(t){if(t==null)return g.decompress(t);for(var n=new Array(t.length/2),c=0,o=n.length;c<o;c++)n[c]=t[c*2]*256+t[c*2+1];var i=[];return n.forEach(function(u){i.push(r(u))}),g.decompress(i.join(""))},compressToEncodedURIComponent:function(t){return t==null?"":g._compress(t,6,function(n){return m.charAt(n)})},decompressFromEncodedURIComponent:function(t){return t==null?"":t==""?null:(t=t.replace(/ /g,"+"),g._decompress(t.length,32,function(n){return b(m,t.charAt(n))}))},compress:function(t){return g._compress(t,16,function(n){return r(n)})},_compress:function(t,n,c){if(t==null)return"";var o,i,u={},v={},w="",U="",h="",y=2,j=3,l=2,d=[],e=0,s=0,x;for(x=0;x<t.length;x+=1)if(w=t.charAt(x),Object.prototype.hasOwnProperty.call(u,w)||(u[w]=j++,v[w]=!0),U=h+w,Object.prototype.hasOwnProperty.call(u,U))h=U;else{if(Object.prototype.hasOwnProperty.call(v,h)){if(h.charCodeAt(0)<256){for(o=0;o<l;o++)e=e<<1,s==n-1?(s=0,d.push(c(e)),e=0):s++;for(i=h.charCodeAt(0),o=0;o<8;o++)e=e<<1|i&1,s==n-1?(s=0,d.push(c(e)),e=0):s++,i=i>>1}else{for(i=1,o=0;o<l;o++)e=e<<1|i,s==n-1?(s=0,d.push(c(e)),e=0):s++,i=0;for(i=h.charCodeAt(0),o=0;o<16;o++)e=e<<1|i&1,s==n-1?(s=0,d.push(c(e)),e=0):s++,i=i>>1}y--,y==0&&(y=Math.pow(2,l),l++),delete v[h]}else for(i=u[h],o=0;o<l;o++)e=e<<1|i&1,s==n-1?(s=0,d.push(c(e)),e=0):s++,i=i>>1;y--,y==0&&(y=Math.pow(2,l),l++),u[U]=j++,h=String(w)}if(h!==""){if(Object.prototype.hasOwnProperty.call(v,h)){if(h.charCodeAt(0)<256){for(o=0;o<l;o++)e=e<<1,s==n-1?(s=0,d.push(c(e)),e=0):s++;for(i=h.charCodeAt(0),o=0;o<8;o++)e=e<<1|i&1,s==n-1?(s=0,d.push(c(e)),e=0):s++,i=i>>1}else{for(i=1,o=0;o<l;o++)e=e<<1|i,s==n-1?(s=0,d.push(c(e)),e=0):s++,i=0;for(i=h.charCodeAt(0),o=0;o<16;o++)e=e<<1|i&1,s==n-1?(s=0,d.push(c(e)),e=0):s++,i=i>>1}y--,y==0&&(y=Math.pow(2,l),l++),delete v[h]}else for(i=u[h],o=0;o<l;o++)e=e<<1|i&1,s==n-1?(s=0,d.push(c(e)),e=0):s++,i=i>>1;y--,y==0&&(y=Math.pow(2,l),l++)}for(i=2,o=0;o<l;o++)e=e<<1|i&1,s==n-1?(s=0,d.push(c(e)),e=0):s++,i=i>>1;for(;;)if(e=e<<1,s==n-1){d.push(c(e));break}else s++;return d.join("")},decompress:function(t){return t==null?"":t==""?null:g._decompress(t.length,32768,function(n){return t.charCodeAt(n)})},_decompress:function(t,n,c){var o=[],i,u=4,v=4,w=3,U="",h=[],y,j,l,d,e,s,x,a={val:c(0),position:n,index:1};for(y=0;y<3;y+=1)o[y]=y;for(l=0,e=Math.pow(2,2),s=1;s!=e;)d=a.val&a.position,a.position>>=1,a.position==0&&(a.position=n,a.val=c(a.index++)),l|=(d>0?1:0)*s,s<<=1;switch(i=l){case 0:for(l=0,e=Math.pow(2,8),s=1;s!=e;)d=a.val&a.position,a.position>>=1,a.position==0&&(a.position=n,a.val=c(a.index++)),l|=(d>0?1:0)*s,s<<=1;x=r(l);break;case 1:for(l=0,e=Math.pow(2,16),s=1;s!=e;)d=a.val&a.position,a.position>>=1,a.position==0&&(a.position=n,a.val=c(a.index++)),l|=(d>0?1:0)*s,s<<=1;x=r(l);break;case 2:return""}for(o[3]=x,j=x,h.push(x);;){if(a.index>t)return"";for(l=0,e=Math.pow(2,w),s=1;s!=e;)d=a.val&a.position,a.position>>=1,a.position==0&&(a.position=n,a.val=c(a.index++)),l|=(d>0?1:0)*s,s<<=1;switch(x=l){case 0:for(l=0,e=Math.pow(2,8),s=1;s!=e;)d=a.val&a.position,a.position>>=1,a.position==0&&(a.position=n,a.val=c(a.index++)),l|=(d>0?1:0)*s,s<<=1;o[v++]=r(l),x=v-1,u--;break;case 1:for(l=0,e=Math.pow(2,16),s=1;s!=e;)d=a.val&a.position,a.position>>=1,a.position==0&&(a.position=n,a.val=c(a.index++)),l|=(d>0?1:0)*s,s<<=1;o[v++]=r(l),x=v-1,u--;break;case 2:return h.join("")}if(u==0&&(u=Math.pow(2,w),w++),o[x])U=o[x];else if(x===v)U=j+j.charAt(0);else return null;h.push(U),o[v++]=j+U.charAt(0),u--,j=U,u==0&&(u=Math.pow(2,w),w++)}}};return g}();typeof T<"u"&&T!=null&&(T.exports=st)});var A=et(P());var O=["esm.sh","skypack","esm.run","jsdelivr.esm","fastly.jsdelivr.esm","gcore.jsdelivr.esm","testingcf.jsdelivr.esm","jsdelivr.b-cdn.esm","jspm"],B=["jsdelivr","fastly.jsdelivr","unpkg","gcore.jsdelivr","testingcf.jsdelivr","jsdelivr.b-cdn","npmcdn"],W=["jsdelivr.gh","fastly.jsdelivr.gh","statically","gcore.jsdelivr.gh","testingcf.jsdelivr.gh","jsdelivr.b-cdn.gh"],S={getModuleUrl:(r,{isModule:p=!0,defaultCDN:m="esm.sh",external:f}={})=>{r=r.replace(/#nobundle/g,"");let b=t=>!f||!t.includes("https://esm.sh")?t:t.includes("?")?`${t}&external=${f}`:`${t}?external=${f}`,g=$(r,p,m);return g?b(g):p?b("https://esm.sh/"+r):"https://cdn.jsdelivr.net/npm/"+r},getUrl:(r,p)=>r.startsWith("http")||r.startsWith("data:")?r:$(r,!1,p||ot())||r,cdnLists:{npm:B,module:O,gh:W},checkCDNs:async(r,p)=>{let m=[p,...S.cdnLists.npm].filter(Boolean);for(let f of m)try{if((await fetch(S.getUrl(r,f),{method:"HEAD"})).ok)return f}catch{}return S.cdnLists.npm[0]}},ot=()=>{if(globalThis.appCDN)return globalThis.appCDN;try{return new URL(location.href).searchParams.get("appCDN")||S.cdnLists.npm[0]}catch{return S.cdnLists.npm[0]}},$=(r,p,m)=>{let f=p&&r.startsWith("unpkg:")?"?module":"";r.startsWith("gh:")?r=r.replace("gh",W[0]):r.includes(":")||(r=(m||(p?O[0]:B[0]))+":"+r);for(let b of rt){let[g,t]=b;if(g.test(r))return r.replace(g,t)+f}return null},rt=[[/^(esm\.sh:)(.+)/i,"https://esm.sh/$2"],[/^(npm:)(.+)/i,"https://esm.sh/$2"],[/^(node:)(.+)/i,"https://esm.sh/$2"],[/^(jsr:)(.+)/i,"https://esm.sh/jsr/$2"],[/^(pr:)(.+)/i,"https://esm.sh/pr/$2"],[/^(pkg\.pr\.new:)(.+)/i,"https://esm.sh/pkg.pr.new/$2"],[/^(skypack:)(.+)/i,"https://cdn.skypack.dev/$2"],[/^(jsdelivr:)(.+)/i,"https://cdn.jsdelivr.net/npm/$2"],[/^(fastly\.jsdelivr:)(.+)/i,"https://fastly.jsdelivr.net/npm/$2"],[/^(gcore\.jsdelivr:)(.+)/i,"https://gcore.jsdelivr.net/npm/$2"],[/^(testingcf\.jsdelivr:)(.+)/i,"https://testingcf.jsdelivr.net/npm/$2"],[/^(jsdelivr\.b-cdn:)(.+)/i,"https://jsdelivr.b-cdn.net/npm/$2"],[/^(jsdelivr\.gh:)(.+)/i,"https://cdn.jsdelivr.net/gh/$2"],[/^(fastly\.jsdelivr\.gh:)(.+)/i,"https://fastly.jsdelivr.net/gh/$2"],[/^(gcore\.jsdelivr\.gh:)(.+)/i,"https://gcore.jsdelivr.net/gh/$2"],[/^(testingcf\.jsdelivr\.gh:)(.+)/i,"https://testingcf.jsdelivr.net/gh/$2"],[/^(jsdelivr\.b-cdn\.gh:)(.+)/i,"https://jsdelivr.b-cdn.net/gh/$2"],[/^(statically:)(.+)/i,"https://cdn.statically.io/gh/$2"],[/^(esm\.run:)(.+)/i,"https://esm.run/$2"],[/^(jsdelivr\.esm:)(.+)/i,"https://cdn.jsdelivr.net/npm/$2/+esm"],[/^(fastly\.jsdelivr\.esm:)(.+)/i,"https://fastly.jsdelivr.net/npm/$2/+esm"],[/^(gcore\.jsdelivr\.esm:)(.+)/i,"https://gcore.jsdelivr.net/npm/$2/+esm"],[/^(testingcf\.jsdelivr\.esm:)(.+)/i,"https://testingcf.jsdelivr.net/npm/$2/+esm"],[/^(jsdelivr\.b-cdn\.esm:)(.+)/i,"https://jsdelivr.b-cdn.net/npm/$2/+esm"],[/^(jspm:)(.+)/i,"https://jspm.dev/$2"],[/^(esbuild:)(.+)/i,"https://esbuild.vercel.app/$2"],[/^(bundle\.run:)(.+)/i,"https://bundle.run/$2"],[/^(unpkg:)(.+)/i,"https://unpkg.com/$2"],[/^(npmcdn:)(.+)/i,"https://npmcdn.com/$2"],[/^(bundlejs:)(.+)/i,"https://deno.bundlejs.com/?file&q=$2"],[/^(bundle:)(.+)/i,"https://deno.bundlejs.com/?file&q=$2"],[/^(deno:)(.+)/i,"https://deno.bundlejs.com/?file&q=https://deno.land/x/$2/mod.ts"],[/^(https:\/\/deno\.land\/.+)/i,"https://deno.bundlejs.com/?file&q=$1"],[/^(github:|https:\/\/github\.com\/)(.[^\/]+?)\/(.[^\/]+?)\/(?!releases\/)(?:(?:blob|raw)\/)?(.+?\/.+)/i,"https://deno.bundlejs.com/?file&q=https://cdn.jsdelivr.net/gh/$2/$3@$4"],[/^(gist\.github:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(gitlab:|https:\/\/gitlab\.com\/)([^\/]+.*\/[^\/]+)\/(?:raw|blob)\/(.+?)(?:\?.*)?$/i,"https://deno.bundlejs.com/?file&q=https://gl.githack.com/$2/raw/$3"],[/^(bitbucket:|https:\/\/bitbucket\.org\/)([^\/]+\/[^\/]+)\/(?:raw|src)\/(.+?)(?:\?.*)?$/i,"https://deno.bundlejs.com/?file&q=https://bb.githack.com/$2/raw/$3"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/]+)\/revisions\/([^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/$3/files/$4"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/HEAD/files/$3"],[/^(bitbucket:)\!api\/2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(api\.bitbucket:)2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(rawgit:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(rawgit:|https:\/\/raw\.githubusercontent\.com)(\/[^\/]+\/[^\/]+|[0-9A-Za-z-]+\/[0-9a-f]+\/raw)\/(.+)/i,"https://deno.bundlejs.com/?file&q=https://raw.githack.com/$2/$3"]];var{getUrl:k,getModuleUrl:Ct}=S;var L=k("quill@2.0.2/dist/"),D=k("quill-html-edit-button@2.2.14/dist/quill.htmlEditButton.min.js"),N=k("quill-blot-formatter@1.0.5/dist/quill-blot-formatter.min.js"),M=k("quill-better-table@1.2.10/dist/");var F="v9";var it="https://localhost:8090",K="http://127.0.0.1:8085",q=location.hostname==="localhost"||location.hostname==="127.0.0.1"?K:it,z=F,at=q===K?".html":"",_={getResultUrl:()=>`${q}/${z}/`,getCompilerUrl:()=>`${q}/${z}/compiler${at}`,getOrigin:()=>new URL(q).origin};var Q=`<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Rich Text Editor</title></head><body><style>body,html{margin:0;padding:0;height:100%}#standalone-container{display:flex;flex-direction:column;height:100%;max-height:100%}#editor-container{flex-grow:0;overflow-y:auto}body{background:#fff}.ql-snow.ql-toolbar{background:#eaecec}#toolbar-container .ql-font span[data-label=Arial]::before{font-family:Arial,sans-serif}#toolbar-container .ql-font span[data-label='Comic Sans MS']::before{font-family:Comic Sans MS,sans-serif}#toolbar-container .ql-font span[data-label=Verdana]::before{font-family:Verdana,sans-serif}#toolbar-container .ql-font span[data-label=Helvetica]::before{font-family:Helvetica,sans-serif}#toolbar-container .ql-font span[data-label=Tahoma]::before{font-family:Tahoma,sans-serif}#toolbar-container .ql-font span[data-label='Trebuchet MS']::before{font-family:Trebuchet MS,sans-serif}#toolbar-container .ql-font span[data-label='Times New Roman']::before{font-family:Times New Roman,serif}#toolbar-container .ql-font span[data-label=Georgia]::before{font-family:Georgia,serif}#toolbar-container .ql-font span[data-label=Garamond]::before{font-family:Garamond,serif}#toolbar-container .ql-font span[data-label='Courier New']::before{font-family:Courier New,monospace}#toolbar-container .ql-font span[data-label='Brush Script MT']::before{font-family:Brush Script MT,cursive}#toolbar-container .ql-size span[data-label=Small]::before{font-size:.75em}#toolbar-container .ql-size span[data-label=Large]::before{font-size:1.5em}#toolbar-container .ql-size span[data-label=Huge]::before{font-size:2.5em}</style><!-- styles placeholder --><div id="standalone-container"><div id="toolbar-container"><span class="ql-formats"><select class="ql-font" title="Font Face"><option selected>Default</option><option>Arial</option><option>Brush Script MT</option><option>Comic Sans MS</option><option>Courier New</option><option>Garamond</option><option>Georgia</option><option>Helvetica</option><option>Tahoma</option><option>Times New Roman</option><option>Trebuchet MS</option><option>Verdana</option></select> <select class="ql-size" title="Font Size"><option value="0.75em">Small</option><option selected>Normal</option><option value="1.5em">Large</option><option value="2.5em">Huge</option></select> <select class="ql-header" title="Heading"><option value=""></option><option value="1"></option><option value="2"></option><option value="3"></option><option value="4"></option><option value="5"></option><option value="6"></option></select> </span><span class="ql-formats"><button class="ql-bold" title="Bold"></button> <button class="ql-italic" title="Italic"></button> <button class="ql-underline" title="Underline"></button> <button class="ql-strike" title="Strike"></button> </span><span class="ql-formats"><select class="ql-color" title="Font Color"></select> <select class="ql-background" title="Background Color"></select> </span><span class="ql-formats"><button class="ql-script" value="sub" title="Subscript"></button> <button class="ql-script" value="super" title="Superscript"></button> </span><span class="ql-formats"><button class="ql-list" value="ordered" title="Ordered List"></button> <button class="ql-list" value="bullet" title="Unordered List"></button> <button class="ql-indent" value="-1" title="Outdent"></button> <button class="ql-indent" value="+1" title="Indent"></button> <button class="ql-blockquote" title="Quote"></button> </span><span class="ql-formats"><button class="ql-direction" value="rtl" title="Text Direction"></button> <select class="ql-align" title="Align"><option></option><option value="right"></option><option value="center"></option><option value="justify"></option></select> </span><span class="ql-formats"><button class="ql-link" title="Link"></button> <button class="ql-image" title="Image"></button> <button class="ql-video" title="Video"></button> <button class="ql-table" title="Insert Table"></button> </span><span class="ql-formats"><button class="ql-undo" title="Undo"></button> <button class="ql-redo" title="Redo"></button> <button class="ql-clean" title="Reset formatting"></button></span></div><div id="editor-container"><!-- content placeholder --></div></div><!-- scripts placeholder --><script>(()=>{let t=!1;(l=Quill.import("attributors/style/font")).whitelist=["Arial","Helvetica","Verdana","Tahoma","Trebuchet MS","Times New Roman","Georgia","Garamond","Courier New","Brush Script MT"],Quill.register(l,!0),(r=Quill.import("attributors/style/size")).whitelist=["0.75em","1.5em","2.5em"],Quill.register(r,!0);var e=Quill.import("attributors/style/align");Quill.register(e,!0);var l,r,i=Quill.import("attributors/style/direction");Quill.register(i,!0),Quill.register("modules/htmlEditButton",htmlEditButton),Quill.register("modules/blotFormatter",QuillBlotFormatter.default),Quill.register({"modules/better-table":quillBetterTable},!0),(l=Quill.import("attributors/style/font")).whitelist=["Arial","Brush Script MT","Comic Sans MS","Courier New","Garamond","Georgia","Helvetica","Tahoma","Times New Roman","Trebuchet MS","Verdana"],Quill.register(l,!0),(r=Quill.import("attributors/style/size")).whitelist=["0.75em","1.5em","2.5em"],Quill.register(r,!0);e=Quill.import("attributors/style/align");Quill.register(e,!0);i=Quill.import("attributors/style/direction");Quill.register(i,!0);var o=new Quill("#editor-container",{modules:{toolbar:{container:"#toolbar-container",handlers:{undo:t=>{o.history.undo()},redo:t=>{o.history.redo()},table:t=>{o.getModule("better-table").insertTable(3,3)}}},history:{delay:1e3,userOnly:!1},htmlEditButton:{debug:!1,msg:"Edit the content in HTML format"},blotFormatter:{},table:!1,"better-table":{operationMenu:{color:{colors:["green","red","yellow","blue","grey","white"],text:"Background Colors:"}}}},placeholder:"Content...",theme:"snow"});function a(){parent.postMessage({type:"quillEditorCode",payload:{html:o.root.innerHTML||""}},"*")}document.querySelector(".ql-undo").innerHTML='<svg viewBox="0 0 1792 1792" style="transform: scaleX(0.9) scaleY(0.9);" xmlns="http://www.w3.org/2000/svg"><path class="ql-fill" d="M1664 896q0 156-61 298t-164 245-245 164-298 61q-172 0-327-72.5t-264-204.5q-7-10-6.5-22.5t8.5-20.5l137-138q10-9 25-9 16 2 23 12 73 95 179 147t225 52q104 0 198.5-40.5t163.5-109.5 109.5-163.5 40.5-198.5-40.5-198.5-109.5-163.5-163.5-109.5-198.5-40.5q-98 0-188 35.5t-160 101.5l137 138q31 30 14 69-17 40-59 40h-448q-26 0-45-19t-19-45v-448q0-42 40-59 39-17 69 14l130 129q107-101 244.5-156.5t284.5-55.5q156 0 298 61t245 164 164 245 61 298z"/></svg>',document.querySelector(".ql-redo").innerHTML='<svg viewBox="0 0 1792 1792" style="transform: scaleX(-0.9) scaleY(0.9);" xmlns="http://www.w3.org/2000/svg"><path class="ql-fill" d="M1664 896q0 156-61 298t-164 245-245 164-298 61q-172 0-327-72.5t-264-204.5q-7-10-6.5-22.5t8.5-20.5l137-138q10-9 25-9 16 2 23 12 73 95 179 147t225 52q104 0 198.5-40.5t163.5-109.5 109.5-163.5 40.5-198.5-40.5-198.5-109.5-163.5-163.5-109.5-198.5-40.5q-98 0-188 35.5t-160 101.5l137 138q31 30 14 69-17 40-59 40h-448q-26 0-45-19t-19-45v-448q0-42 40-59 39-17 69 14l130 129q107-101 244.5-156.5t284.5-55.5q156 0 298 61t245 164 164 245 61 298z"/></svg>',o.on("text-change",(()=>{t?t=!1:a()})),window.addEventListener("message",(function(e){e.data.html?(t=!0,o.root.innerHTML=e.data.html):"updateCode"===e.data.type?a():e.data.type})),window.addEventListener("load",(()=>{parent.postMessage({type:"quillEditorLoaded",payload:!0},"*"),a()}))})()<\/script></body></html>`;var E=!1,I="",C=()=>document.querySelector("#quill-editor-frame"),lt=async({baseUrl:r,config:p,editors:m,eventsManager:f})=>{if(E){I!==m.markup.getValue()&&C()?.contentWindow?.postMessage({html:m.markup.getValue()},"*");return}let b=`
  <script src="${L}quill.js"><\/script>
  <script src="${D}"><\/script>
  <script src="${N}"><\/script>
  <script src="${M}quill-better-table.min.js"><\/script>
  <script src="${r}custom-editor-utils.93da371294edff0056c5505aaf0a9ce5.js"><\/script>
    `,g=`
  <link rel="stylesheet" href="${r}quill.8e9d74c74d2c8aaa5d849678c215cf7e.css" />
  <link rel="stylesheet" href="${L}quill.snow.css" />
  <link rel="stylesheet" href="${M}quill-better-table.css" />
  `,t=()=>Q.replace("<!-- styles placeholder -->",g).replace("<!-- scripts placeholder -->",E?"":b).replace("// {{ custom config }}",p.readonly?"readOnly: true":"").replace("<!-- content placeholder -->",m.markup.getValue());await new Promise(n=>{let c=document.querySelector("#quillEditor"),o=C(),i=()=>{f.addEventListener(window,"message",u=>{if(u.source!==C()?.contentWindow||!["quillEditorCode","quillEditorLoaded"].includes(u.data.type))return;if(u.data.type==="quillEditorLoaded"){E=!0,f.removeEventListener(o,"load",i),pt(),n("loaded");return}let{html:v}=u.data.payload;I=v,m.markup.setValue(v||"")}),C()?.contentWindow?.postMessage({result:t()},"*")};o?i():(o=document.createElement("iframe"),o.name="quillEditor",o.id="quill-editor-frame",o.setAttribute("sandbox","allow-same-origin allow-downloads allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-presentation allow-scripts"),f.addEventListener(o,"load",i),o.src=_.getResultUrl(),c.appendChild(o))})},fs=async({baseUrl:r,editors:p,config:m,html:f,eventsManager:b})=>m.script.language!=="richtext"?{}:(E||await lt({baseUrl:r,config:m,editors:p,html:f,eventsManager:b}),{html:I}),gs=r=>{C()?.contentWindow?.postMessage({type:"setTheme",payload:r},_.getOrigin())},pt=()=>{C()?.contentWindow?.postMessage({type:"updateCode"},_.getOrigin())};export{fs as getQuillEditorContent,gs as setQuillEditorTheme,lt as showQuillEditor};
